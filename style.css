/* =========================================================
   ROOT  â€“  THEMES
========================================================= */
:root {
  /* Dark (default) */
  --bg-primary      : #000;
  --bg-secondary    : #0a0a0a;
  --bg-tertiary     : #111;
  --sidebar-bg      : #080808;
  --card-bg         : #0f0f0f;
  --card-header-bg  : #1f1f1f;
  --logic-color     : #5ac8fa;
  --creative-color  : #ff6b9d;
  --balanced-color  : #6c5ce7;
  --neutral-color   : #a8b5e1;
  --accent-gradient : rgb(35, 169, 209);
  --text-primary    : #fff;
  --text-secondary  : #aaa;
  --border-light    : #222;
  --transition      : all 0.2s ease;
  --sidebar-width   : 240px;
  --thinking-color  : #fff;
}

.light-theme {
  --bg-primary      : #f8f9fa;
  --bg-secondary    : #ffffff;
  --bg-tertiary     : #f1f3f4;
  --sidebar-bg      : #f8f9fa;
  --card-bg         : #ffffff;
  --card-header-bg  : #e6e6e6;
  --text-primary    : #212529;
  --text-secondary  : #6c757d;
  --border-light    : #dee2e6;
  --thinking-color  : #000;
}

/* =========================================================
   ABSOLUTE RESET
========================================================= */
*,
*::before,
*::after {
  margin        : 0;
  padding       : 0;
  box-sizing    : border-box;
  transition    : background-color var(--transition),
                  color var(--transition),
                  border-color var(--transition);
}

body {
  font-family : system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background  : var(--bg-primary);
  color       : var(--text-primary);
  height      : 100vh;
  overflow    : hidden;
}

/* ---------- CENTRED WELCOME (always) ---------- */
.welcome-fixed {
  position        : fixed;
  inset           : 0;
  z-index         : 5;
  display         : flex;
  align-items     : center;
  justify-content : center;
  pointer-events  : none;
}
.welcome-fixed .welcome-message {
  pointer-events : auto;
  max-width      : 600px;
  padding        : 40px 30px;
  border-radius  : 16px;
  background     : transparent;
  
  box-shadow     : 0 12px 40px rgba(0,0,0,.35);
  text-align     : center;
}

/* =========================================================
   WELCOME SCREEN
========================================================= */
.welcome-message h2 {
  font-size      : 2.5rem;
  margin-bottom  : 15px;
  background     : rgb(20, 182, 231);
  -webkit-background-clip : text;
  -webkit-text-fill-color : transparent;
}
.welcome-message p {
  font-size     : 1.1rem;
  color         : var(--text-secondary);
  margin-bottom : 30px;
  line-height   : 1.6;
}
.connection-status {
  margin-top    : 20px;
  padding       : 15px;
  border-radius : 10px;
  background    : var(--bg-tertiary);
  font-size     : 0.9rem;
  display       : inline-block;
}
.connection-status .testing { color : #ffa500; }
.connection-status .connected { color : #28a745; }
.connection-status .error { color : #dc3545; }

/* =========================================================
   MAIN CHAT APP LAYOUT - FIXED
========================================================= */
.chat-app {
  display        : flex;
  height         : 100vh;
  opacity        : 1;
  flex-direction : row;
}

/* ---------- SIDEBAR ---------- */
.sidebar {
  width           : var(--sidebar-width);
  background      : var(--sidebar-bg);
  height          : 100vh;
  position        : fixed;
  left            : 0;
  top             : 0;
  overflow-y      : auto;
  transition      : transform 0.3s ease;
  z-index         : 100;
  border-right    : 1px solid var(--border-light);
  display         : flex;
  flex-direction  : column;
}
.sidebar.sidebar-open  { transform : translateX(0); }
.sidebar.sidebar-closed { transform : translateX(-100%); }

.sidebar-header {
  padding       : 20px;
  border-bottom : 1px solid var(--border-light);
  background    : var(--bg-secondary);
  position: relative;
}
.sidebar-header h2 {
  font-size     : 1.2rem;
  margin-bottom : 15px;
  display       : flex;
  align-items   : center;
  gap           : 10px;
}
.search-box {
  position : relative;
  width    : 100%;
  margin   : 15px 0;
}
.search-box input {
  width         : 100%;
  padding       : 12px 40px 12px 15px;
  background    : var(--bg-tertiary);
  color         : var(--text-primary);
  border        : 1px solid var(--border-light);
  border-radius : 25px;
  font-size     : 0.9rem;
  outline       : none;
}
.search-box i {
  position  : absolute;
  right     : 15px;
  top       : 50%;
  transform : translateY(-50%);
  color     : var(--text-secondary);
  font-size : 0.9rem;
}
.sidebar-actions {
  display         : flex;
  justify-content : center;
  gap             : 10px;
  margin-top      : 15px;
}
.sidebar-actions button {
  width         : 40px;
  height        : 40px;
  border-radius : 50%;
  border        : none;
  cursor        : pointer;
  display       : flex;
  align-items   : center;
  justify-content : center;
  font-size     : 1rem;
  background    : var(--bg-tertiary);
  color         : var(--text-secondary);
  transition    : all 0.2s ease;
}
.sidebar-actions button:hover {
  background : var(--logic-color);
  color      : #fff;
  transform  : scale(1.05);
}

/* Tokens Display */
.tokens-display {
  margin-top: 15px;
  padding: 12px;
  background: var(--bg-tertiary);
  border-radius: 8px;
  border: 1px solid var(--border-light);
  display: none;
}

.tokens-display.visible {
  display: block;
  animation: fadeIn 0.3s ease;
}

.tokens-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
}

.tokens-label {
  color: var(--text-secondary);
  font-weight: 500;
}

.tokens-count {
  color: var(--logic-color);
  font-weight: 700;
  font-size: 1.1rem;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

.history-list {
  flex        : 1;
  display     : flex;
  flex-direction : column;
  padding     : 10px 0;
}
.history-item {
  padding       : 12px 20px;
  background    : transparent;
  cursor        : pointer;
  font-size     : 0.9rem;
  display       : flex;
  flex-direction : column;
  gap           : 4px;
  color         : var(--text-secondary);
  border-left   : 3px solid transparent;
  transition    : all 0.2s ease;
}
.history-item:hover {
  background  : var(--bg-tertiary);
  color       : var(--text-primary);
  border-left : 3px solid var(--logic-color);
}
.history-meta {
  display         : flex;
  justify-content : space-between;
  font-size       : 0.75rem;
  opacity         : 0.7;
}

/* ---------- MAIN AREA - FIXED LAYOUT ---------- */
.main-area {
  height       : 100vh;
  display      : flex;
  flex-direction : column;
  transition   : margin-left 0.3s ease;
  position     : relative;
}
.main-area.sidebar-open  { margin-left : var(--sidebar-width); width: calc(100% - var(--sidebar-width)); }
.main-area.sidebar-closed{ margin-left : 0; width: 100%; }

/* CHAT CONTAINER - FIXED SCROLLING WITH PROPER SPACING */
.chat-container {
  flex           : 1;
  min-height     : 0;
  overflow-y     : auto;
  background     : var(--bg-primary);
  padding        : 20px;
  padding-bottom : 120px;
  display        : flex;
  flex-direction : column;
  gap            : 16px;
  width          : 100%;
}

/* ---------- MESSAGES - HORIZONTAL LAYOUT ---------- */
.message {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  max-width: 100%;
  width: 100%;
}

.message.user-message {
  flex-direction: row;
  align-self: flex-end;
  justify-content: flex-end;
}

.message.user-message .message-content {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  max-width: 80%;
}

.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--logic-color);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  flex-shrink: 0;
  order: 2;
}

.message.user-message .avatar {
  order: 2;
}

.bubble {
  background: var(--logic-color);
  color: #fff;
  padding: 12px 16px;
  font-size: 1rem;
  border-radius: 18px;
  line-height: 1.5;
  word-break: break-word;
  max-width: 100%;
}

.user-message .bubble {
  border-radius: 18px 18px 4px 18px;
  background: var(--logic-color);
  color: #fff;
}

/* Message content with files */
.message-content {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 80%;
}

.attached-files {
  background: var(--bg-tertiary);
  border-radius: 12px;
  padding: 12px;
  border: 1px solid var(--border-light);
  max-width: 100%;
}

.files-label {
  font-size: 0.8rem;
  color: var(--text-secondary);
  margin-bottom: 8px;
  font-weight: 600;
}

.file-attachment {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  font-size: 0.85rem;
}

.file-attachment .file-icon {
  color: var(--logic-color);
  width: 16px;
  text-align: center;
}

.file-attachment .file-name {
  color: var(--text-primary);
  font-weight: 500;
}

.file-attachment .file-size {
  color: var(--text-secondary);
  font-size: 0.75rem;
}

/* ERROR MESSAGE STYLING */
.message.error-message {
  display: none !important;
}

/* ---------- AI RESPONSE CARDS ---------- */
.response-group {
  width: 100%;
  margin: 20px 0;
}

.ai-pair {
  display: flex;
  gap: 15px;
  padding: 0 5px 10px 5px;
  overflow-x: auto;
  scrollbar-width: thin;
  min-height: 280px;
  max-height: 400px;
  align-items: stretch;
}

.ai-pair::-webkit-scrollbar {
  height: 8px;
}

.ai-pair::-webkit-scrollbar-track {
  background: transparent;
  margin: 5px 0;
}

.ai-pair::-webkit-scrollbar-thumb {
  background: var(--border-light);
  border-radius: 4px;
}

.ai-pair:hover::-webkit-scrollbar-thumb {
  background: var(--text-secondary);
}

.ai-card {
  background: var(--card-bg);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  flex-shrink: 0;
  width: 320px;
  min-width: 320px;
  max-width: 320px;
  height: auto;
  min-height: 280px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.card-header {
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-light);
  background: var(--card-header-bg);
  min-height: 50px;
  display: flex;
  align-items: center;
}

.badge {
  font-size: 0.85rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
}

.response-display {
  flex: 1;
  padding: 15px;
  overflow-y: auto;
  font-size: 0.9rem;
  line-height: 1.5;
  color: var(--text-primary);
  white-space: pre-wrap;
  min-height: 180px;
  max-height: 300px;
}

/* ERROR BANNER INSIDE CARDS ONLY */
.error-banner {
  background: rgba(255, 82, 82, 0.1);
  color: #ff6b6b;
  padding: 10px 12px;
  font-size: 0.85rem;
  border-radius: 6px;
  border-left: 3px solid #ff6b6b;
  margin: 5px;
}

.light-theme .error-banner {
  background: rgba(255, 82, 82, 0.2);
  color: #721c24;
  border-left-color: #dc3545;
}

/* ---------- THINKING ANIMATION ---------- */
.thinking-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 25px 15px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  gap: 12px;
  min-height: 180px;
  height: 100%;
}

.thinking-container.active {
  animation: fadeInUp 0.5s ease-out;
}

.thinking-dots {
  display: flex;
  gap: 5px;
  margin-bottom: 8px;
}

.thinking-dots span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--thinking-color);
  animation: thinkBounce 1.4s infinite ease-in-out;
  transform: scale(0.6);
  opacity: 0.4;
}

.thinking-dots span:nth-child(2) { animation-delay: 0.2s; }
.thinking-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes thinkBounce {
  0%,100% { transform: scale(0.6); opacity: 0.4; }
  50% { transform: scale(1.3); opacity: 1; box-shadow: 0 0 8px currentColor; }
}

.thinking-text {
  font-size: 0.85rem;
  color: var(--text-secondary);
  text-align: center;
  animation: thinking-text-pulse 2s infinite;
}

@keyframes thinking-text-pulse {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

/* ---------- INPUT BAR ---------- */
.input-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-secondary);
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 15px 20px;
  z-index: 10;
  transition: left 0.3s ease, width 0.3s ease;
  height: auto;
  min-height: 90px;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
  border-top: 1px solid var(--border-light);
}

.main-area.sidebar-open .input-bar {
  left: var(--sidebar-width);
  width: calc(100% - var(--sidebar-width));
}

.main-area.sidebar-closed .input-bar {
  left: 0;
  width: 100%;
}

/* File upload button */
.btn-file {
  width: 45px;
  height: 45px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-light);
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.btn-file:hover:not(:disabled) {
  background: var(--logic-color);
  color: #fff;
  transform: scale(1.05);
}

.btn-file:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* TEXTAREA */
#prompt-input {
  height: 60px !important;
  min-height: 60px !important;
  max-height: 60px !important;
  resize: none !important;
  overflow-y: auto !important;
  flex: 1;
  border-radius: 12px;
  padding: 12px 16px;
  font-size: 0.95rem;
  background: var(--bg-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border-light);
  outline: none;
  font-family: inherit;
  line-height: 1.4;
}

.btn-send {
  width: 45px;
  height: 45px;
  background: var(--logic-color);
  color: #fff;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.btn-send:hover:not(:disabled) {
  background: #005a9e;
  transform: scale(1.05);
}

.btn-send:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ---------- FILE PREVIEW ---------- */
.file-preview {
  position: fixed;
  bottom: 90px;
  left: 0;
  right: 0;
  background: var(--bg-secondary);
  padding: 10px 20px;
  border-top: 1px solid var(--border-light);
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  z-index: 9;
  transition: left 0.3s ease;
}

.main-area.sidebar-open .file-preview {
  left: var(--sidebar-width);
  width: calc(100% - var(--sidebar-width));
}

.main-area.sidebar-closed .file-preview {
  left: 0;
  width: 100%;
}

.file-preview-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  background: var(--bg-tertiary);
  border-radius: 8px;
  border: 1px solid var(--border-light);
  font-size: 0.85rem;
}

.file-info {
  display: flex;
  align-items: center;
  gap: 8px;
}

.file-icon {
  color: var(--logic-color);
  width: 16px;
  text-align: center;
}

.file-details {
  display: flex;
  flex-direction: column;
}

.file-name {
  color: var(--text-primary);
  font-weight: 500;
}

.file-size {
  color: var(--text-secondary);
  font-size: 0.75rem;
}

.file-remove-btn {
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.file-remove-btn:hover {
  background: rgba(255, 59, 48, 0.1);
  color: #ff3b30;
}

/* ---------- STATUS BAR ---------- */
.status {
  text-align: center;
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--text-secondary);
  margin: 5px auto;
  padding: 8px 15px;
  background: transparent;
  border-radius: 15px;
  max-width: 300px;
  border: 1px solid var(--border-light);
}

.status.error {
  background: rgba(255, 59, 48, 0.1);
  color: #ff6b6b;
  border-color: rgba(255, 59, 48, 0.3);
}

.status.info {
  background: rgba(90, 200, 250, 0.1);
  color: var(--logic-color);
  border-color: rgba(90, 200, 250, 0.3);
}

/* ---------- SIDEBAR TOGGLE BUTTON ---------- */
.sidebar-toggle-btn {
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 101;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-light);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
}

.sidebar-toggle-btn:hover {
  background: var(--logic-color);
  color: #fff;
  transform: scale(1.1);
}

/* ---------- LOGOUT BUTTON AT BOTTOM LEFT ---------- */
.logout-btn-bottom {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 101;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: rgba(255, 59, 48, 0.8);
  color: white;
  border: 1px solid rgba(255, 59, 48, 0.5);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
}

.logout-btn-bottom:hover {
  background: rgba(255, 59, 48, 1);
  transform: scale(1.1);
}

/* ---------- MODEL SELECTOR ---------- */
.model-selector {
  background: transparent;
  border-bottom: 1px solid var(--border-light);
  padding: 5px 15px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  position: sticky;
  top: 0;
  z-index: 99;
  min-height: 50px;
}

.selector-title {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-primary);
}

.model-options {
  display: flex;
  justify-content: center;
  gap: 6px;
  flex-wrap: wrap;
  width: 100%;
  max-height: 60px;
  overflow-y: auto;
  padding-bottom: 5px;
}

.model-option {
  padding: 6px 12px;
  font-size: 0.75rem;
  font-weight: 600;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border-radius: 15px;
  cursor: pointer;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: all 0.2s ease;
  border: 1px solid transparent;
}

.model-option:hover {
  background: var(--bg-primary);
  color: var(--text-primary);
  border-color: var(--border-light);
}

.model-option.selected {
  background: var(--accent-gradient);
  color: #fff;
  border-color: transparent;
  transform: scale(1.05);
}

/* =========================================================
   ASKLURK FEATURE STYLES
========================================================= */

/* ---------- AskLurk button row ---------- */
.asklurk-row {
  width: 100%;
  display: flex;
  justify-content: center;
  margin: 15px 0;
  padding: 0 20px;
}

.asklurk-row button {
  padding: 12px 24px;
  border-radius: 25px;
  border: none;
  background: linear-gradient(135deg, #ffd700, #ffb700);
  color: #000;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 8px;
}

.asklurk-row button:disabled {
  background: #555;
  color: #999;
  cursor: not-allowed;
  box-shadow: none;
  transform: none !important;
}

.asklurk-row button:not(:disabled):hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
}

.asklurk-row button:not(:disabled):active {
  transform: translateY(0);
}

/* ---------- Best answer card ---------- */
.best-answer-row {
  width: 100%;
  display: flex;
  justify-content: center;
  margin: 10px 0 20px 0;
}

.asklurk-best {
  border: 3px solid #ffd700 !important;
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 183, 0, 0.05)) !important;
  box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2) !important;
  animation: pulse-gold 2s ease-in-out;
  width: 90% !important;
  max-width: 800px !important;
  min-width: auto !important;
  margin: 0 auto !important;
}

.asklurk-best .card-header {
  background: linear-gradient(135deg, #ffd700, #ffb700) !important;
  color: #000 !important;
  border-bottom: 2px solid #ffb700 !important;
}

.asklurk-best .badge {
  color: #000 !important;
  font-weight: 700;
  font-size: 1rem;
}

.asklurk-best .response-display {
  background: rgba(255, 215, 0, 0.03);
  font-size: 1rem;
  line-height: 1.6;
  padding: 20px;
}

@keyframes pulse-gold {
  0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
  100% { box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2); }
}

/* ---------- RESPONSIVE FIXES ---------- */
@media (max-width : 1024px) {
  :root { --sidebar-width : 200px; }
  .ai-card { width: 300px; min-width: 300px; max-width: 300px; }
  .model-options { gap : 5px; }
  .model-option { padding : 5px 10px; font-size : 0.7rem; }
  .asklurk-best { width: 95% !important; }
}

@media (max-width : 768px) {
  :root { --sidebar-width : 100%; }
  .sidebar { width : 100%; transform : translateX(-100%); }
  .sidebar.sidebar-open { transform : translateX(0); }
  .main-area { margin-left : 0; width: 100%; }
  .input-bar { 
    padding : 10px 15px;
    min-height: 80px;
  }
  .file-preview {
    padding: 8px 15px;
  }
  .chat-container { 
    padding : 15px;
    padding-bottom: 100px;
  }
  .ai-pair { 
    gap : 10px; 
    padding : 0 5px 8px 5px;
    min-height: 250px;
  }
  .ai-card { 
    width: 280px; 
    min-width: 280px; 
    max-width: 280px;
    min-height: 250px;
  }
  .asklurk-best {
    width: 98% !important;
    max-width: 98% !important;
  }
  .asklurk-row {
    padding: 0 10px;
  }
  .asklurk-row button {
    padding: 10px 20px;
    font-size: 0.85rem;
  }
  .message-content {
    max-width: 85%;
  }
}

@media (max-width : 480px) {
  .ai-card { 
    width: 260px; 
    min-width: 260px; 
    max-width: 260px;
    min-height: 230px;
  }
  .card-header { padding : 10px 12px; }
  .response-display { 
    padding : 12px; 
    font-size : 0.85rem;
    min-height: 160px;
  }
  .thinking-container { 
    padding : 20px 12px; 
    min-height: 160px;
  }
  .asklurk-best {
    width: 100% !important;
    max-width: 100% !important;
  }
  .chat-container {
    padding-bottom: 90px;
  }
  .asklurk-row button {
    padding: 8px 16px;
    font-size: 0.8rem;
  }
  .input-bar {
    gap: 8px;
    padding: 10px;
  }
  .btn-file, .btn-send {
    width: 40px;
    height: 40px;
  }
}

/* ---------- ANIMATIONS ---------- */
@keyframes fadeInUp {
  from { opacity : 0; transform : translateY(20px); }
  to   { opacity : 1; transform : translateY(0); }
}
.message, .response-group {
  animation : fadeInUp 0.3s ease-out;
}

/* Scrollbar styling */
.ai-pair {
  scrollbar-width: thin;
  scrollbar-color: var(--border-light) transparent;
}

.ai-pair::-webkit-scrollbar {
  height: 6px;
}

.ai-pair::-webkit-scrollbar-track {
  background: transparent;
}

.ai-pair::-webkit-scrollbar-thumb {
  background-color: var(--border-light);
  border-radius: 3px;
}

/* Critical layout fixes */
.chat-container {
  padding-bottom: 120px !important;
}

.main-area {
  position: relative;
  overflow: hidden;
}

.input-bar {
  z-index: 20;
}

.error-message {
  display: none !important;
}

/* Ensure proper spacing for AskLurk elements */
.response-group {
  position: relative;
}

.ai-pair + .asklurk-row {
  margin-top: -5px;
}

.asklurk-row + .best-answer-row {
  margin-top: 10px;
}

/* Fullscreen mode adjustments */
body:fullscreen .chat-app,
body:-webkit-full-screen .chat-app,
body:-moz-full-screen .chat-app,
body:-ms-fullscreen .chat-app {
  width: 100vw;
  height: 100vh;
}

body:fullscreen .main-area,
body:-webkit-full-screen .main-area,
body:-moz-full-screen .main-area,
body:-ms-fullscreen .main-area {
  width: 100vw;
  height: 100vh;
}